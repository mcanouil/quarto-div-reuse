---
title: "Div Reuse Quarto Extension"
filters:
  - div-reuse
format:
  html:
    output-file: index
    code-tools: true
  typst:
    output-file: div-reuse-typst
    papersize: a4
    margin:
      x: 2.5cm
      y: 2.5cm
  pdf:
    output-file: div-reuse-latex
    papersize: a4
    margin:
      x: 2.5cm
      y: 2.5cm
  docx:
    output-file: div-reuse-docx
  revealjs:
    output-file: div-reuse-revealjs
  beamer:
    output-file: div-reuse-beamer
    aspectratio: 169
  pptx:
    output-file: div-reuse-pptx
format-links: true
embed-resources: true
execute:
  echo: true
---

This is a Quarto extension applying the concept of "code reuse" to the content of a Markdown fenced div.

## Installation

```bash
quarto add mcanouil/quarto-div-reuse
```

This will install the extension under the `_extensions` subdirectory.

If you're using version control, you will want to check in this directory.

## Usage

To activate the filter, add the following to your YAML front matter:

- Old (<1.8.21):

  ```yml
  filters:
    - quarto
    - div-reuse
  ```

- New (>=1.8.21):

  ```yml
  filters:
    - path: div-reuse
      at: post-quarto
  ```

Then, you can reuse any fenced div by using their ID in the following way:

```markdown
## Original Div

:::: {#my-div}
{{< lipsum >}}
:::

## Reused Div

:::: {reuse="my-div"}
:::
```

:::: {.callout-important}

The "reuse" attribute acts like a copy-paste of the original `div` content.

Consequently, content and their attributes, including the ID, are duplicated.

This can result in unexpected behaviour if the same ID is used multiple times within the same document.

Therefore, it is recommended to use the "reuse" attribute primarily with text content.

:::

## Examples

### Example 1

```markdown
:::: {reuse="lipsum"}
:::
```

:::: {reuse="lipsum"}
:::

### Example 2

```markdown
:::: {#placeholder}
![]({{< placeholder >}})
:::
```

:::: {#placeholder}
![]({{< placeholder >}})
:::

### Example 3

```markdown
:::: {reuse="placeholder"}
:::
```

:::: {reuse="placeholder"}
:::

### Example 4

```markdown
:::: {#lipsum}
{{< lipsum 1 >}}
:::
```

:::: {#lipsum}
{{< lipsum 1 >}}
:::
